{"ast":null,"code":"'use strict';\n\nexports.__esModule = true;\n\nvar _component = require('../component');\n\nvar _component2 = _interopRequireDefault(_component);\n\nvar _fn = require('../utils/fn.js');\n\nvar Fn = _interopRequireWildcard(_fn);\n\nvar _window = require('global/window');\n\nvar _window2 = _interopRequireDefault(_window);\n\nfunction _interopRequireWildcard(obj) {\n  if (obj && obj.__esModule) {\n    return obj;\n  } else {\n    var newObj = {};\n\n    if (obj != null) {\n      for (var key in obj) {\n        if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key];\n      }\n    }\n\n    newObj['default'] = obj;\n    return newObj;\n  }\n}\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    'default': obj\n  };\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (!self) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n}\n/**\n * @file text-track-display.js\n */\n\n\nvar darkGray = '#222';\nvar lightGray = '#ccc';\nvar fontMap = {\n  monospace: 'monospace',\n  sansSerif: 'sans-serif',\n  serif: 'serif',\n  monospaceSansSerif: '\"Andale Mono\", \"Lucida Console\", monospace',\n  monospaceSerif: '\"Courier New\", monospace',\n  proportionalSansSerif: 'sans-serif',\n  proportionalSerif: 'serif',\n  casual: '\"Comic Sans MS\", Impact, fantasy',\n  script: '\"Monotype Corsiva\", cursive',\n  smallcaps: '\"Andale Mono\", \"Lucida Console\", monospace, sans-serif'\n};\n/**\n * Construct an rgba color from a given hex color code.\n *\n * @param {number} color\n *        Hex number for color, like #f0e.\n *\n * @param {number} opacity\n *        Value for opacity, 0.0 - 1.0.\n *\n * @return {string}\n *         The rgba color that was created, like 'rgba(255, 0, 0, 0.3)'.\n *\n * @private\n */\n\nfunction constructColor(color, opacity) {\n  return 'rgba(' + // color looks like \"#f0e\"\n  parseInt(color[1] + color[1], 16) + ',' + parseInt(color[2] + color[2], 16) + ',' + parseInt(color[3] + color[3], 16) + ',' + opacity + ')';\n}\n/**\n * Try to update the style of a DOM element. Some style changes will throw an error,\n * particularly in IE8. Those should be noops.\n *\n * @param {Element} el\n *        The DOM element to be styled.\n *\n * @param {string} style\n *        The CSS property on the element that should be styled.\n *\n * @param {string} rule\n *        The style rule that should be applied to the property.\n */\n\n\nfunction tryUpdateStyle(el, style, rule) {\n  try {\n    el.style[style] = rule;\n  } catch (e) {\n    // Satisfies linter.\n    return;\n  }\n}\n/**\n * The component for displaying text track cues.\n *\n * @extends Component\n */\n\n\nvar TextTrackDisplay = function (_Component) {\n  _inherits(TextTrackDisplay, _Component);\n  /**\n   * Creates an instance of this class.\n   *\n   * @param {Player} player\n   *        The `Player` that this class should be attached to.\n   *\n   * @param {Object} [options]\n   *        The key/value store of player options.\n   *\n   * @param {Component~ReadyCallback} [ready]\n   *        The function to call when `TextTrackDisplay` is ready.\n   */\n\n\n  function TextTrackDisplay(player, options, ready) {\n    _classCallCheck(this, TextTrackDisplay);\n\n    var _this = _possibleConstructorReturn(this, _Component.call(this, player, options, ready));\n\n    player.on('loadstart', Fn.bind(_this, _this.toggleDisplay));\n    player.on('texttrackchange', Fn.bind(_this, _this.updateDisplay)); // This used to be called during player init, but was causing an error\n    // if a track should show by default and the display hadn't loaded yet.\n    // Should probably be moved to an external track loader when we support\n    // tracks that don't need a display.\n\n    player.ready(Fn.bind(_this, function () {\n      if (player.tech_ && player.tech_.featuresNativeTextTracks) {\n        this.hide();\n        return;\n      }\n\n      player.on('fullscreenchange', Fn.bind(this, this.updateDisplay));\n      var tracks = this.options_.playerOptions.tracks || [];\n\n      for (var i = 0; i < tracks.length; i++) {\n        this.player_.addRemoteTextTrack(tracks[i], true);\n      }\n\n      var modes = {\n        captions: 1,\n        subtitles: 1\n      };\n      var trackList = this.player_.textTracks();\n      var firstDesc = void 0;\n      var firstCaptions = void 0;\n\n      if (trackList) {\n        for (var _i = 0; _i < trackList.length; _i++) {\n          var track = trackList[_i];\n\n          if (track['default']) {\n            if (track.kind === 'descriptions' && !firstDesc) {\n              firstDesc = track;\n            } else if (track.kind in modes && !firstCaptions) {\n              firstCaptions = track;\n            }\n          }\n        } // We want to show the first default track but captions and subtitles\n        // take precedence over descriptions.\n        // So, display the first default captions or subtitles track\n        // and otherwise the first default descriptions track.\n\n\n        if (firstCaptions) {\n          firstCaptions.mode = 'showing';\n        } else if (firstDesc) {\n          firstDesc.mode = 'showing';\n        }\n      }\n    }));\n    return _this;\n  }\n  /**\n   * Turn display of {@link TextTrack}'s from the current state into the other state.\n   * There are only two states:\n   * - 'shown'\n   * - 'hidden'\n   *\n   * @listens Player#loadstart\n   */\n\n\n  TextTrackDisplay.prototype.toggleDisplay = function toggleDisplay() {\n    if (this.player_.tech_ && this.player_.tech_.featuresNativeTextTracks) {\n      this.hide();\n    } else {\n      this.show();\n    }\n  };\n  /**\n   * Create the {@link Component}'s DOM element.\n   *\n   * @return {Element}\n   *         The element that was created.\n   */\n\n\n  TextTrackDisplay.prototype.createEl = function createEl() {\n    return _Component.prototype.createEl.call(this, 'div', {\n      className: 'vjs-text-track-display'\n    }, {\n      'aria-live': 'off',\n      'aria-atomic': 'true'\n    });\n  };\n  /**\n   * Clear all displayed {@link TextTrack}s.\n   */\n\n\n  TextTrackDisplay.prototype.clearDisplay = function clearDisplay() {\n    if (typeof _window2['default'].WebVTT === 'function') {\n      _window2['default'].WebVTT.processCues(_window2['default'], [], this.el_);\n    }\n  };\n  /**\n   * Update the displayed TextTrack when a either a {@link Player#texttrackchange} or\n   * a {@link Player#fullscreenchange} is fired.\n   *\n   * @listens Player#texttrackchange\n   * @listens Player#fullscreenchange\n   */\n\n\n  TextTrackDisplay.prototype.updateDisplay = function updateDisplay() {\n    var tracks = this.player_.textTracks();\n    this.clearDisplay();\n\n    if (!tracks) {\n      return;\n    } // Track display prioritization model: if multiple tracks are 'showing',\n    //  display the first 'subtitles' or 'captions' track which is 'showing',\n    //  otherwise display the first 'descriptions' track which is 'showing'\n\n\n    var descriptionsTrack = null;\n    var captionsSubtitlesTrack = null;\n    var i = tracks.length;\n\n    while (i--) {\n      var track = tracks[i];\n\n      if (track.mode === 'showing') {\n        if (track.kind === 'descriptions') {\n          descriptionsTrack = track;\n        } else {\n          captionsSubtitlesTrack = track;\n        }\n      }\n    }\n\n    if (captionsSubtitlesTrack) {\n      if (this.getAttribute('aria-live') !== 'off') {\n        this.setAttribute('aria-live', 'off');\n      }\n\n      this.updateForTrack(captionsSubtitlesTrack);\n    } else if (descriptionsTrack) {\n      if (this.getAttribute('aria-live') !== 'assertive') {\n        this.setAttribute('aria-live', 'assertive');\n      }\n\n      this.updateForTrack(descriptionsTrack);\n    }\n  };\n  /**\n   * Add an {@link Texttrack} to to the {@link Tech}s {@link TextTrackList}.\n   *\n   * @param {TextTrack} track\n   *        Text track object to be added to the list.\n   */\n\n\n  TextTrackDisplay.prototype.updateForTrack = function updateForTrack(track) {\n    if (typeof _window2['default'].WebVTT !== 'function' || !track.activeCues) {\n      return;\n    }\n\n    var overrides = this.player_.textTrackSettings.getValues();\n    var cues = [];\n\n    for (var _i2 = 0; _i2 < track.activeCues.length; _i2++) {\n      cues.push(track.activeCues[_i2]);\n    }\n\n    _window2['default'].WebVTT.processCues(_window2['default'], cues, this.el_);\n\n    var i = cues.length;\n\n    while (i--) {\n      var cue = cues[i];\n\n      if (!cue) {\n        continue;\n      }\n\n      var cueDiv = cue.displayState;\n\n      if (overrides.color) {\n        cueDiv.firstChild.style.color = overrides.color;\n      }\n\n      if (overrides.textOpacity) {\n        tryUpdateStyle(cueDiv.firstChild, 'color', constructColor(overrides.color || '#fff', overrides.textOpacity));\n      }\n\n      if (overrides.backgroundColor) {\n        cueDiv.firstChild.style.backgroundColor = overrides.backgroundColor;\n      }\n\n      if (overrides.backgroundOpacity) {\n        tryUpdateStyle(cueDiv.firstChild, 'backgroundColor', constructColor(overrides.backgroundColor || '#000', overrides.backgroundOpacity));\n      }\n\n      if (overrides.windowColor) {\n        if (overrides.windowOpacity) {\n          tryUpdateStyle(cueDiv, 'backgroundColor', constructColor(overrides.windowColor, overrides.windowOpacity));\n        } else {\n          cueDiv.style.backgroundColor = overrides.windowColor;\n        }\n      }\n\n      if (overrides.edgeStyle) {\n        if (overrides.edgeStyle === 'dropshadow') {\n          cueDiv.firstChild.style.textShadow = '2px 2px 3px ' + darkGray + ', 2px 2px 4px ' + darkGray + ', 2px 2px 5px ' + darkGray;\n        } else if (overrides.edgeStyle === 'raised') {\n          cueDiv.firstChild.style.textShadow = '1px 1px ' + darkGray + ', 2px 2px ' + darkGray + ', 3px 3px ' + darkGray;\n        } else if (overrides.edgeStyle === 'depressed') {\n          cueDiv.firstChild.style.textShadow = '1px 1px ' + lightGray + ', 0 1px ' + lightGray + ', -1px -1px ' + darkGray + ', 0 -1px ' + darkGray;\n        } else if (overrides.edgeStyle === 'uniform') {\n          cueDiv.firstChild.style.textShadow = '0 0 4px ' + darkGray + ', 0 0 4px ' + darkGray + ', 0 0 4px ' + darkGray + ', 0 0 4px ' + darkGray;\n        }\n      }\n\n      if (overrides.fontPercent && overrides.fontPercent !== 1) {\n        var fontSize = _window2['default'].parseFloat(cueDiv.style.fontSize);\n\n        cueDiv.style.fontSize = fontSize * overrides.fontPercent + 'px';\n        cueDiv.style.height = 'auto';\n        cueDiv.style.top = 'auto';\n        cueDiv.style.bottom = '2px';\n      }\n\n      if (overrides.fontFamily && overrides.fontFamily !== 'default') {\n        if (overrides.fontFamily === 'small-caps') {\n          cueDiv.firstChild.style.fontVariant = 'small-caps';\n        } else {\n          cueDiv.firstChild.style.fontFamily = fontMap[overrides.fontFamily];\n        }\n      }\n    }\n  };\n\n  return TextTrackDisplay;\n}(_component2['default']);\n\n_component2['default'].registerComponent('TextTrackDisplay', TextTrackDisplay);\n\nexports['default'] = TextTrackDisplay;","map":{"version":3,"sources":["C:/test_website/ninjasatnoon/node_modules/video.js/es5/tracks/text-track-display.js"],"names":["exports","__esModule","_component","require","_component2","_interopRequireDefault","_fn","Fn","_interopRequireWildcard","_window","_window2","obj","newObj","key","Object","prototype","hasOwnProperty","call","_classCallCheck","instance","Constructor","TypeError","_possibleConstructorReturn","self","ReferenceError","_inherits","subClass","superClass","create","constructor","value","enumerable","writable","configurable","setPrototypeOf","__proto__","darkGray","lightGray","fontMap","monospace","sansSerif","serif","monospaceSansSerif","monospaceSerif","proportionalSansSerif","proportionalSerif","casual","script","smallcaps","constructColor","color","opacity","parseInt","tryUpdateStyle","el","style","rule","e","TextTrackDisplay","_Component","player","options","ready","_this","on","bind","toggleDisplay","updateDisplay","tech_","featuresNativeTextTracks","hide","tracks","options_","playerOptions","i","length","player_","addRemoteTextTrack","modes","captions","subtitles","trackList","textTracks","firstDesc","firstCaptions","_i","track","kind","mode","show","createEl","className","clearDisplay","WebVTT","processCues","el_","descriptionsTrack","captionsSubtitlesTrack","getAttribute","setAttribute","updateForTrack","activeCues","overrides","textTrackSettings","getValues","cues","_i2","push","cue","cueDiv","displayState","firstChild","textOpacity","backgroundColor","backgroundOpacity","windowColor","windowOpacity","edgeStyle","textShadow","fontPercent","fontSize","parseFloat","height","top","bottom","fontFamily","fontVariant","registerComponent"],"mappings":"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","sourcesContent":["'use strict';\n\nexports.__esModule = true;\n\nvar _component = require('../component');\n\nvar _component2 = _interopRequireDefault(_component);\n\nvar _fn = require('../utils/fn.js');\n\nvar Fn = _interopRequireWildcard(_fn);\n\nvar _window = require('global/window');\n\nvar _window2 = _interopRequireDefault(_window);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj['default'] = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } /**\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * @file text-track-display.js\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                */\n\n\nvar darkGray = '#222';\nvar lightGray = '#ccc';\nvar fontMap = {\n  monospace: 'monospace',\n  sansSerif: 'sans-serif',\n  serif: 'serif',\n  monospaceSansSerif: '\"Andale Mono\", \"Lucida Console\", monospace',\n  monospaceSerif: '\"Courier New\", monospace',\n  proportionalSansSerif: 'sans-serif',\n  proportionalSerif: 'serif',\n  casual: '\"Comic Sans MS\", Impact, fantasy',\n  script: '\"Monotype Corsiva\", cursive',\n  smallcaps: '\"Andale Mono\", \"Lucida Console\", monospace, sans-serif'\n};\n\n/**\n * Construct an rgba color from a given hex color code.\n *\n * @param {number} color\n *        Hex number for color, like #f0e.\n *\n * @param {number} opacity\n *        Value for opacity, 0.0 - 1.0.\n *\n * @return {string}\n *         The rgba color that was created, like 'rgba(255, 0, 0, 0.3)'.\n *\n * @private\n */\nfunction constructColor(color, opacity) {\n  return 'rgba(' +\n  // color looks like \"#f0e\"\n  parseInt(color[1] + color[1], 16) + ',' + parseInt(color[2] + color[2], 16) + ',' + parseInt(color[3] + color[3], 16) + ',' + opacity + ')';\n}\n\n/**\n * Try to update the style of a DOM element. Some style changes will throw an error,\n * particularly in IE8. Those should be noops.\n *\n * @param {Element} el\n *        The DOM element to be styled.\n *\n * @param {string} style\n *        The CSS property on the element that should be styled.\n *\n * @param {string} rule\n *        The style rule that should be applied to the property.\n */\nfunction tryUpdateStyle(el, style, rule) {\n  try {\n    el.style[style] = rule;\n  } catch (e) {\n\n    // Satisfies linter.\n    return;\n  }\n}\n\n/**\n * The component for displaying text track cues.\n *\n * @extends Component\n */\n\nvar TextTrackDisplay = function (_Component) {\n  _inherits(TextTrackDisplay, _Component);\n\n  /**\n   * Creates an instance of this class.\n   *\n   * @param {Player} player\n   *        The `Player` that this class should be attached to.\n   *\n   * @param {Object} [options]\n   *        The key/value store of player options.\n   *\n   * @param {Component~ReadyCallback} [ready]\n   *        The function to call when `TextTrackDisplay` is ready.\n   */\n  function TextTrackDisplay(player, options, ready) {\n    _classCallCheck(this, TextTrackDisplay);\n\n    var _this = _possibleConstructorReturn(this, _Component.call(this, player, options, ready));\n\n    player.on('loadstart', Fn.bind(_this, _this.toggleDisplay));\n    player.on('texttrackchange', Fn.bind(_this, _this.updateDisplay));\n\n    // This used to be called during player init, but was causing an error\n    // if a track should show by default and the display hadn't loaded yet.\n    // Should probably be moved to an external track loader when we support\n    // tracks that don't need a display.\n    player.ready(Fn.bind(_this, function () {\n      if (player.tech_ && player.tech_.featuresNativeTextTracks) {\n        this.hide();\n        return;\n      }\n\n      player.on('fullscreenchange', Fn.bind(this, this.updateDisplay));\n\n      var tracks = this.options_.playerOptions.tracks || [];\n\n      for (var i = 0; i < tracks.length; i++) {\n        this.player_.addRemoteTextTrack(tracks[i], true);\n      }\n\n      var modes = { captions: 1, subtitles: 1 };\n      var trackList = this.player_.textTracks();\n      var firstDesc = void 0;\n      var firstCaptions = void 0;\n\n      if (trackList) {\n        for (var _i = 0; _i < trackList.length; _i++) {\n          var track = trackList[_i];\n\n          if (track['default']) {\n            if (track.kind === 'descriptions' && !firstDesc) {\n              firstDesc = track;\n            } else if (track.kind in modes && !firstCaptions) {\n              firstCaptions = track;\n            }\n          }\n        }\n\n        // We want to show the first default track but captions and subtitles\n        // take precedence over descriptions.\n        // So, display the first default captions or subtitles track\n        // and otherwise the first default descriptions track.\n        if (firstCaptions) {\n          firstCaptions.mode = 'showing';\n        } else if (firstDesc) {\n          firstDesc.mode = 'showing';\n        }\n      }\n    }));\n    return _this;\n  }\n\n  /**\n   * Turn display of {@link TextTrack}'s from the current state into the other state.\n   * There are only two states:\n   * - 'shown'\n   * - 'hidden'\n   *\n   * @listens Player#loadstart\n   */\n\n\n  TextTrackDisplay.prototype.toggleDisplay = function toggleDisplay() {\n    if (this.player_.tech_ && this.player_.tech_.featuresNativeTextTracks) {\n      this.hide();\n    } else {\n      this.show();\n    }\n  };\n\n  /**\n   * Create the {@link Component}'s DOM element.\n   *\n   * @return {Element}\n   *         The element that was created.\n   */\n\n\n  TextTrackDisplay.prototype.createEl = function createEl() {\n    return _Component.prototype.createEl.call(this, 'div', {\n      className: 'vjs-text-track-display'\n    }, {\n      'aria-live': 'off',\n      'aria-atomic': 'true'\n    });\n  };\n\n  /**\n   * Clear all displayed {@link TextTrack}s.\n   */\n\n\n  TextTrackDisplay.prototype.clearDisplay = function clearDisplay() {\n    if (typeof _window2['default'].WebVTT === 'function') {\n      _window2['default'].WebVTT.processCues(_window2['default'], [], this.el_);\n    }\n  };\n\n  /**\n   * Update the displayed TextTrack when a either a {@link Player#texttrackchange} or\n   * a {@link Player#fullscreenchange} is fired.\n   *\n   * @listens Player#texttrackchange\n   * @listens Player#fullscreenchange\n   */\n\n\n  TextTrackDisplay.prototype.updateDisplay = function updateDisplay() {\n    var tracks = this.player_.textTracks();\n\n    this.clearDisplay();\n\n    if (!tracks) {\n      return;\n    }\n\n    // Track display prioritization model: if multiple tracks are 'showing',\n    //  display the first 'subtitles' or 'captions' track which is 'showing',\n    //  otherwise display the first 'descriptions' track which is 'showing'\n\n    var descriptionsTrack = null;\n    var captionsSubtitlesTrack = null;\n\n    var i = tracks.length;\n\n    while (i--) {\n      var track = tracks[i];\n\n      if (track.mode === 'showing') {\n        if (track.kind === 'descriptions') {\n          descriptionsTrack = track;\n        } else {\n          captionsSubtitlesTrack = track;\n        }\n      }\n    }\n\n    if (captionsSubtitlesTrack) {\n      if (this.getAttribute('aria-live') !== 'off') {\n        this.setAttribute('aria-live', 'off');\n      }\n      this.updateForTrack(captionsSubtitlesTrack);\n    } else if (descriptionsTrack) {\n      if (this.getAttribute('aria-live') !== 'assertive') {\n        this.setAttribute('aria-live', 'assertive');\n      }\n      this.updateForTrack(descriptionsTrack);\n    }\n  };\n\n  /**\n   * Add an {@link Texttrack} to to the {@link Tech}s {@link TextTrackList}.\n   *\n   * @param {TextTrack} track\n   *        Text track object to be added to the list.\n   */\n\n\n  TextTrackDisplay.prototype.updateForTrack = function updateForTrack(track) {\n    if (typeof _window2['default'].WebVTT !== 'function' || !track.activeCues) {\n      return;\n    }\n\n    var overrides = this.player_.textTrackSettings.getValues();\n    var cues = [];\n\n    for (var _i2 = 0; _i2 < track.activeCues.length; _i2++) {\n      cues.push(track.activeCues[_i2]);\n    }\n\n    _window2['default'].WebVTT.processCues(_window2['default'], cues, this.el_);\n\n    var i = cues.length;\n\n    while (i--) {\n      var cue = cues[i];\n\n      if (!cue) {\n        continue;\n      }\n\n      var cueDiv = cue.displayState;\n\n      if (overrides.color) {\n        cueDiv.firstChild.style.color = overrides.color;\n      }\n      if (overrides.textOpacity) {\n        tryUpdateStyle(cueDiv.firstChild, 'color', constructColor(overrides.color || '#fff', overrides.textOpacity));\n      }\n      if (overrides.backgroundColor) {\n        cueDiv.firstChild.style.backgroundColor = overrides.backgroundColor;\n      }\n      if (overrides.backgroundOpacity) {\n        tryUpdateStyle(cueDiv.firstChild, 'backgroundColor', constructColor(overrides.backgroundColor || '#000', overrides.backgroundOpacity));\n      }\n      if (overrides.windowColor) {\n        if (overrides.windowOpacity) {\n          tryUpdateStyle(cueDiv, 'backgroundColor', constructColor(overrides.windowColor, overrides.windowOpacity));\n        } else {\n          cueDiv.style.backgroundColor = overrides.windowColor;\n        }\n      }\n      if (overrides.edgeStyle) {\n        if (overrides.edgeStyle === 'dropshadow') {\n          cueDiv.firstChild.style.textShadow = '2px 2px 3px ' + darkGray + ', 2px 2px 4px ' + darkGray + ', 2px 2px 5px ' + darkGray;\n        } else if (overrides.edgeStyle === 'raised') {\n          cueDiv.firstChild.style.textShadow = '1px 1px ' + darkGray + ', 2px 2px ' + darkGray + ', 3px 3px ' + darkGray;\n        } else if (overrides.edgeStyle === 'depressed') {\n          cueDiv.firstChild.style.textShadow = '1px 1px ' + lightGray + ', 0 1px ' + lightGray + ', -1px -1px ' + darkGray + ', 0 -1px ' + darkGray;\n        } else if (overrides.edgeStyle === 'uniform') {\n          cueDiv.firstChild.style.textShadow = '0 0 4px ' + darkGray + ', 0 0 4px ' + darkGray + ', 0 0 4px ' + darkGray + ', 0 0 4px ' + darkGray;\n        }\n      }\n      if (overrides.fontPercent && overrides.fontPercent !== 1) {\n        var fontSize = _window2['default'].parseFloat(cueDiv.style.fontSize);\n\n        cueDiv.style.fontSize = fontSize * overrides.fontPercent + 'px';\n        cueDiv.style.height = 'auto';\n        cueDiv.style.top = 'auto';\n        cueDiv.style.bottom = '2px';\n      }\n      if (overrides.fontFamily && overrides.fontFamily !== 'default') {\n        if (overrides.fontFamily === 'small-caps') {\n          cueDiv.firstChild.style.fontVariant = 'small-caps';\n        } else {\n          cueDiv.firstChild.style.fontFamily = fontMap[overrides.fontFamily];\n        }\n      }\n    }\n  };\n\n  return TextTrackDisplay;\n}(_component2['default']);\n\n_component2['default'].registerComponent('TextTrackDisplay', TextTrackDisplay);\nexports['default'] = TextTrackDisplay;\n"]},"metadata":{},"sourceType":"script"}